# Self-Serve Single Sign-On (SSO) 구성

SAML을 사용하여 SSO를 설정하는 Snyk 엔터프라이즈 플랜의 그룹 관리자는 Snyk 단일 사인온을 직접 구성할 수 있습니다. 새로운 사용자를 할당할 수 있는 최소한 하나의 그룹 및 조직이 필요합니다. [그룹 및 조직 관리](../../../snyk-admin/groups-and-organizations/)을 참조하세요.

{% hint style="info" %}
셀프-서비스 SSO 옵션을 활성화하려면 Snyk 계정 팀 또는 [Snyk 지원팀](https://support.snyk.io)에 문의하세요. 이 옵션은 [사용자 지정 역할 매핑](../custom-mapping/)을 지원하지 않습니다. Snyk 그룹에 SSO와 사용자 지정 역할 매핑을 설정하려면 Snyk 계정 팀에 문의하시기 바랍니다.
{% endhint %}

다음 비디오에서는 SAML을 사용할 때 단일 사인온 설정 및 단계를 설명합니다.

{% embed url="https://thoughtindustries-1.wistia.com/medias/dyg9opxlv8" %}

## SSO를 위해 SAML 사용: 프로세스 개요

신원 공급자(IdP)와 Snyk 간의 신뢰를 설정하기 위해 그룹 관리자가 다음 작업을 수행해야 합니다:

1. **신원 공급자(IdP) 구성**: 화면에 표시된 Snyk 환경에 대한 세부 정보 및 사용자 속성을 사용하여 구성합니다.
2. **신원 공급자(IdP)의 SAML 속성**을 그룹 SSO 설정 페이지에 입력합니다.
3. **Snyk SSO 설정 구성**: 회원들이 로그인하는 방식을 선택합니다.
4. SSO 로그인을 확인하여 로그인 프로세스가 올바르게 작동하는지 확인합니다.

{% hint style="info" %}
Snyk와 회사의 네트워크에서 모두 SSO가 구성되면 Snyk, Auth0 (Snyk 대행) 및 회사 네트워크 간의 신뢰 관계가 설정됩니다. 모든 민감한 데이터는 사용자 로그인을 가능하게 하기 위해 Only Auth0에 암호화되어 저장됩니다.

이 페이지 이후의 모든 예제가 Snyk 서명을 확인하는 것을 다루지는 않지만, 신뢰 관계를 향상시키고 더욱 높은 무결성을 보장하기 위해 SP 서명 검증을 추가하는 것이 좋습니다. 가능한 경우 해당 IdP의 문서를 따라 SP 서명 검증을 추가하세요.
{% endhint %}

## 사용자 로그인

사용자가 로그인할 때 사용자는 Snyk에 [할당](../choose-a-provisioning-option.md)됩니다. 새로운 사용자 역할이 그룹 구성원으로 선택된 경우, 해당 사용자는 관리자가 적절한 조직에 추가할 때까지 귀하의 조직 목록만 보게 됩니다.

## 고수준 구성 단계

### IdP 구성

1. Snyk 웹 UI에서 **그룹** 메뉴로 이동한 후 **설정**을 선택합니다.
2. **SSO**를 선택하고 **단계 1**에서 필요한 정보인 **Entity ID**, **ACS URL** 및 Snyk **서명 인증서 URL**을 복사합니다.
3. 이러한 세부 정보를 IdP에 적절한 위치에 입력한 후 IdP가 서명 인증서 URL을 허용하지 않는 경우에 대비하여 로컬로 다운로드한 후 IdP에서 Snyk 서명 인증서를 업로드합니다.
4. Snyk UI로 돌아가기 전에 **IdP 제공된 로그인 URL**과 IdP가 제공하는 **X509 서명 인증서 세부 정보를 복사**하거나 다운로드합니다.

### Snyk 구성

1. Snyk 웹 UI의 SSO 설정 페이지의 **단계 2**에서 IdP로부터 수집한 세부 정보를 제공하여 **로그인 URL**, 사용 가능하고 원하는 경우 **로그아웃 URL**, **IdP 서명 인증서** 및 SSO 연결로 제공될 **도메인 및 서브도메인**을 입력합니다.
2. 연결이 HTTP-Redirect 프로토콜 바인딩을 필요로 하는 경우, 기본 설정인 HTTP-POST에서 해당 옵션을 변경합니다.
3. 마지막으로 IdP 시작 워크플로가 활성화되어 있는지 확인하고 **연결 만들기** 또는 기존 연결을 수정하는 경우 **변경 사항 저장**을 선택합니다.

### 사용자 프로비저닝 설정

1. 처음 로그인 시 사용자가 올바른 역할이 할당되도록 확인하려면 **그룹 구성원**, **조직 협력자** 또는 **조직 관리자** 중 하나를 선택하세요. 이 단계의 옵션에 관한 자세한 내용은 [프로비저닝 옵션 선택](../choose-a-provisioning-option.md)을 참조하세요.
2. **프로필 속성** 섹션에서 필드는 자동으로 채워지지만, **이메일**, **이름** 및 (알려진 경우) **사용자명**이 IdP에서 Snyk로 보내는 SAML 페이로드의 원시 JSON에서 해당 키와 정확히 일치하는지 확인하세요. **변경 사항 저장**을 선택한 후 설정을 확인할 수 있는 최종 단계로 이동하세요.

### 구성 테스트 및 확인

1. 모든 세부 정보를 정확히 입력한 경우, Snyk 웹 UI의 **단계 3** 상단에서 직접 URL을 사용하여 IdP 디렉토리의 사용자로 로그인하여 설정이 원하는대로 작동하는지 확인할 수 있습니다.
2. 모든 저장된 세부 정보가 정확한지 확인된 경우 (이름, 이메일, 권한 등), Snyk는 일반적으로 이전에 소셜 로그인 방식을 통해 로그인했던 기존 사용자를 Snyk 플랫폼에서 제거하는 것을 권장합니다. 이는 **Members** 메뉴 아래에서 수행할 수 있습니다.