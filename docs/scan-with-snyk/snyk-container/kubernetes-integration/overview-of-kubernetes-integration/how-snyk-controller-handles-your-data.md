# Snyk Controller이 데이터를 처리하는 방법

쿠버네티스 클러스터에 Snyk Controller를 설치한 후, 이는 컨테이너 레지스트리로부터 이미지를 가져옵니다:

1. Snyk Controller는 쿠버네티스 워크로드와 컨테이너 레지스트리에 대한 읽기 전용 액세스 권한을 갖습니다.
2. Snyk Controller는 이미지를 디스크에 가져와 스캔한 후, 스캔이 완료되면 이미지를 삭제합니다.
3. Snyk Controller는 취약점 분석을 수행하기 위해 필요한 최소한의 정보만 수집합니다. 구체적으로 이미지 내의 종속성 목록과 워크로드 메타데이터만 수집합니다.
4. Snyk Controller가 수집하는 데이터는 Snyk의 백엔드에 저장되지만, 8일 후에는 삭제됩니다. 아래는 Snyk Controller가 수집하는 데이터입니다:
   - 워크로드 메타데이터 (쿠버네티스 구성):
     - 레이블, 주석
     - PodSpec
   - 이미지 스캔 결과 및 이미지 메타데이터:
     - OS 패키지 목록
     - 애플리케이션 종속성
5. Snyk Controller의 스캔 결과는 몇 분에서 몇 시간 사이의 시간이 소요된 후 Snyk Web UI에서 가져올 수 있습니다. 지연 시간은 다음과 같은 여러 요소에 따라 달라집니다:
   - Snyk Controller가 클러스터의 첫 번째 스캔을 수행 중인지 여부
   - 쿠버네티스 클러스터 및 워크로드의 크기
   - 고객이 쿠버네티스 워크로드의 수동 또는 자동 가져오기를 사용하는 방법
   - 이미지의 크기
   - 스캔 대기열의 크기
   - 네트워크 속도

{% hint style="warning" %}
Snyk는 환경 변수의 평문에 민감한 데이터를 저장하지 말고, 예를 들어 비밀번호, 인증 토큰 및 SSH 키와 같은 데이터를 저장하지 말 것을 강력히 권장합니다. 대신에 민감한 데이터를 Secret에 저장하고 Volume으로 마운트하여 해당 정보에 액세스하는 것을 권장합니다.
{% endhint %}